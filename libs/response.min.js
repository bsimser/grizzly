// Response 0.4.2 | responsejs.com | MIT License
;window.Response=function(r,e,h,s,C){function Q(a){var b="scroll."+r,c="allLoaded."+r;D(a,function(a){a instanceof Object||k("create @args must be object(s)");var d=E(ia).configure(a),R,g=d.verge,a=d.breakpoints;a.length&&(R=a[0]||a[1]||!1,F.ready(function(a){function f(){d.reset();j(d.$,function(a,b){d[b].decideValue().updateDOM()}).trigger(c)}function e(){j(d.$,function(a,b){G(d[b].$,g)&&d[b].updateDOM()})}a=!!d.lazy;j(d.target().$,function(b,f){d[f]=E(d).prepareData(b);(!a||G(d[f].$,g))&&d[f].updateDOM()});
if(d.dynamic&&R<n)l.on("resize."+r,f);a&&(l.on(b,e),d.$.one(c,function(){l.off(b,e)}))}))});return m}function H(){H.on||(e.fn.dataset=o,e.fn.deletes=S,j(["inX","inY","inViewport"],function(a){e.fn[a]=function(b,c){return e(p(this,function(f){return!c===m[a](f,b)}))}}),H.on=1);return m}var m,i=s.documentElement,F=e(s),l=e(h),k=function(a){throw"Error using Response."+(a||"");},T="i"+r,ja=/[^a-z0-9_\-\.]/gi,ka=/([a-z])([A-Z])/g,la=/-(.)/g,I=/^data-(.+)$/,ma=/\s+/,na=/([^a-z0-9_\-])/gi,t=Array.isArray||
e.isArray,u=function(a){return"string"===typeof a?a.split(ma):t(a)?a:[]},U=function(a){return a.replace(I,"$1").replace(la,function(a,c){return c.toUpperCase()})},v=function(a){return"data-"+(a?a.replace(I,"$1").replace(ka,"$1-$2").toLowerCase():a)},oa=function(a){return"string"===typeof a?a.toLowerCase().replace(ja,""):""},J=e!==h.jQuery?e:function(a){return a instanceof e?a:e(a)},E=Object.create||function(a){function b(){}b.prototype=a;return new b},w=function(a,b,c){for(var f=[],d=-1,e=a.length;d++<
e;)d in a&&(f[d]=b.call(c,a[d]));return f},j=function(a,b){var c,f=a.length;for(c=0;c<f;c++)c in a&&b(a[c],c,a);return a},K=function(a,b,c){for(var f=[],d=a.length,b=b||"",c=c||"";d&&d--;)d in a&&(f[d]=b+a[d]+c);return f},p=function(a,b,c){var f=-1,d=[],e=a.length;if(b)for(c=!!c;f++<e;)c===!b(a[f],f)&&d.push(a[f]);else for(;f++<e;)a[f]&&d.push(a[f]);return d},V=function(a){var b;return!a||"string"!==typeof a?a:"true"===a?!0:"false"===a?!1:"undefined"===a?C:"null"===a?null:isFinite(b=parseFloat(a))?
b:a},L=function(a,b,c){e.each(b,function(b,d){a[b]=d||c?d:a[b]});return a},D=function(a,b){return t(a)?w(a,b):b(a)},o=function(a,b){var c=arguments.length,f=(!this?!1:1===this.nodeType?this:this[0]&&1===this[0].nodeType?this[0]:!1)||k("dataset @elem"),d={},e=!1,g;if(c){t(a)&&(e=!0,a=a[0]);if("string"===typeof a){a=v(a);if(1===c)return d=f.getAttribute(a),e?V(d):d;if(this===f||2>(g=this.length||1))f.setAttribute(a,b);else for(;g--;)g in this&&o.apply(this[g],arguments)}else if(a instanceof Object)for(g in a)a.hasOwnProperty(g)&&
o.call(this,g,a[g]);return this}if(f.dataset&&DOMStringMap)return f.dataset;j(f.attributes,function(a){if(a&&(g=(""+a.name).match(I)))d[U(g[1])]=a.value});return d},S=function(a){if("string"===typeof a){var b=J(this);j(u(a),function(a){a&&b.removeAttr(v(a))})}return this},x=function(a,b,c){return o.apply(a,[].slice.call(arguments).slice(1))},y=h.screen.width,z=h.screen.height,n=Math.max(y,z),M=i.clientWidth?function(){return i.clientWidth}:function(){return l.width()},N=i.clientHeight?function(){return i.clientHeight}:
function(){return l.height()},A=function(a,b,c){b=b||0;return!c?a>=b:a>=b&&a<=c},W=function(a){var b="scroll"+a,c=i["client"+a],a=Math.max(c,i["offset"+a],i[b],s.body[b])-c;return 0<a?a:0},X=function(){return W("Width")},Y=function(){return W("Height")},Z=function(){return h.pageXOffset||i.scrollLeft},$=function(){return h.pageYOffset||i.scrollTop},aa=function(a,b,c,f,d){d="number"===typeof d?d:0;return c+f>=a-d&&a+b>=c-d},ba=function(a,b){a=J(a);return a.length&&aa(a.offset().left,a.width(),Z(),
M(),b)},ca=function(a,b){a=J(a);return a.length&&aa(a.offset().top,a.height(),$(),N(),b)},G=function(a,b){return(!X()||ba(a,b))&&(!Y()||ca(a,b))},da=function(a,b){return A(M(),a,b)},ea=function(a,b){return A(N(),a,b)},O={band:function(a,b){return A(y,a,b)},wave:function(a,b){return A(z,a,b)}},B=h.matchMedia||h.msMatchMedia,q=function(a){var b=h.devicePixelRatio;if(!arguments.length)return b||(q(2)?2:q(1.5)?1.5:q(1)?1:0);if(!isFinite(a))return!1;if(b)return b>=a;a="only all and (min--moz-device-pixel-ratio:"+
a+")";return!B?!1:B(a).matches||B(a.replace("-moz-","")).matches},fa=function(a){var b={IMG:1,INPUT:1,SOURCE:3,EMBED:3,TRACK:3,IFRAME:5,AUDIO:5,VIDEO:5,SCRIPT:5}[a.tagName.toUpperCase()]||-1;return 4>b?b:"string"===typeof a.getAttribute("src")?5:-5},ga=function(a,b,c){a&&b||k("store");j(a,function(a){if(c||!x(a,b))x(a,b,0<fa(a)?a.getAttribute("src"):e(a).html()||"")});return m},ha=function(a){for(var b=[],c=a.length;c&&c--;)a[c]&&(b[c]="["+v(a[c].replace(na,"\\\\$1"))+"]");return b.join()},P=function(a,
b){return a&&b&&b.length?w(u(b),o,a):[]},ia=function(){var a=[],b={width:[0,320,481,641,961,1025,1281],height:[0,481],ratio:[1,1.5,2]},c={width:da,height:ea};c["device-width"]=O.band;c["device-height"]=O.wave;c["device-pixel-ratio"]=q;return{e:0,$:0,mode:0,breakpoints:0,prefix:0,prop:"width",keys:[],dynamic:0,values:[],method:0,verge:C,newValue:0,currValue:1,aka:0,lazy:0,valid8:function(a,d){(a=this.breakpoints)?(a=t(a)?p(a,isFinite).sort(function(a,b){return a-b}):[],a.length||k("create @breakpoints")):
(d=this.prop,a=b[d]||b[d.split("-").pop()]||k("create @prop"));this.breakpoints=p(a,function(a){return a<=n})},reset:function(){a=[!0];return this},memoize:function(b){"boolean"!==typeof a[b]&&(a[b]=this.method(b));return a[b]},configure:function(a){var b,e;L(this,a,!0);this.verge=isFinite(this.verge)?this.verge:Math.min(n,500);this.method=c[this.prop]||k("create @prop");this.dynamic="d"!==this.prop[0];b=this.prefix?p(w(u(this.prefix),oa)):["min-"+this.prop+"-"];a=1<b.length?b.slice(1):0;this.prefix=
b[0];this.valid8();this.keys=K(this.breakpoints,this.prefix);this.aka=C;if(a){e=[];for(b=a.length;b--;)e.push(K(this.breakpoints,a[b]));this.aka=e}return this},target:function(){this.$=e(ha([].concat.apply(this.keys,this.aka||[])));ga(this.$,T);this.keys.push(T);return this},decideValue:function(){for(var a=0,b=this.breakpoints,c=b.length,e=c;!a&&e--;)this.memoize(b[e])&&(a=this.values[e]);this.newValue=a||this.values[c];return this},prepareData:function(a){this.e=a;this.$=e(a);this.mode=fa(this.e);
this.values=P(this.$,this.keys);if(this.aka)for(a=this.aka.length;a--;)this.values=L(this.values,P(this.$,this.aka[a]));return this.decideValue()},updateDOM:function(){if(this.currValue===this.newValue)return this;this.currValue=this.newValue;return 0<this.mode?this.e.setAttribute("src",this.newValue):this.$.html(this.newValue)}}}();m={viewportW:M,viewportH:N,deviceW:y,deviceH:z,deviceMax:n,deviceMin:y+z-n,inX:ba,inY:ca,inViewport:G,scrollX:Z,scrollY:$,overflowX:X,overflowY:Y,band:da,wave:ea,device:O,
dpr:q,action:function(a){D(a,function(a){F.ready(a);l.resize(a)});return this},dataset:x,deletes:function(a,b){return S.call(a,b)},route:D,merge:L,store:ga,target:function(a){return e(ha(u(a)))},access:P,create:Q,media:B,render:V,chain:H,camelize:U,datatize:v,map:w,each:j,sift:p,affix:K,object:E};F.ready(function(a){if(a=x(s.body,"responsejs"))a=h.JSON&&JSON.parse?JSON.parse(a):e.parseJSON?e.parseJSON(a):{},a.create&&Q(a.create)});return m}("Response",this.jQuery||this.Zepto,this,this.document);